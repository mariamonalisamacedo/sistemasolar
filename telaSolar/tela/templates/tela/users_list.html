{% extends 'tela/base.html' %}

{% block title %}Usuários - Sistema Solar{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Gerenciar Usuários</h1>
    <p style="text-align:right;"><a class="btn" href="{% url 'user_add' %}">Novo Usuário</a></p>
    <table style="width:100%; border-collapse: collapse;">
        <thead>
            <tr style="text-align:left; border-bottom: 2px solid #eee;">
                <th>Username</th>
                <th>Nome</th>
                <th>E-mail</th>
                <th>Staff</th>
                <th>Ativo</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr style="border-bottom:1px solid #f0f0f0;">
                <td>{{ user.username }}</td>
                <td>{{ user.get_full_name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.is_staff|yesno:"Sim,Não" }}</td>
                <td>{{ user.is_active|yesno:"Sim,Não" }}</td>
                <td>
                    <a href="{% url 'user_edit' user.pk %}">Editar</a> |
                    <a href="{% url 'user_delete' user.pk %}">Excluir</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">Nenhum usuário encontrado.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}